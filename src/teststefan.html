<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link
      rel="icon"
      type="image/svg+xml"
      href="/vite.svg"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Filtrering</title>

    <script
      type="module"
      crossorigin
      src="./assets/main.e95a3ef0.js"
    ></script>
    <link
      rel="stylesheet"
      href="./assets/index.90f0dd49.css"
    />
  </head>
  <body
    class="container mx-auto max-w-2xl p-8"
  >
    <header class="mb-8">
      <h1 class="text-4xl">
        Filtrering - version 1
      </h1>
    </header>

    <main
      class="border-black mb-8 border-2 p-8 pb-4"
      id="step"
      x-data="{ spilledag: 'alledage', spillested: 'allevenues', skjulteforestillinger : 0 }"
    >
      <header
        class="border-slate-500 border-b pt-4 pb-8"
      >
        <form id="filtre" class="flex">
          <div class="mb-4 mr-4">
            <label for="spilledag"
              >Dato:</label
            >
            <select
              name="spilledag"
              id="spilledag"
              x-model="spilledag"
              form="filtre"
              x-on:change="$nextTick(() => { ingenforestillinger() });"
            >
              <option value="alledage">
                Alle dage
              </option>
              <option value="tirsdag">
                Tirsdag
              </option>
              <option value="onsdag">
                Onsdag
              </option>
              <option value="torsdag">
                Torsdag
              </option>
              <option value="fredag">
                Fredag
              </option>
              <option value="lordag">
                Lørdag
              </option>
            </select>
          </div>

          <div>
            <label for="spillested"
              >Venue:</label
            >
            <select
              name="spillested"
              id="spillested"
              x-model="spillested"
              form="filtre"
              x-on:change="$nextTick(() => { ingenforestillinger() });"
            >
              <option
                value="allevenues"
              >
                Alle venues
              </option>
              <option value="vox">
                Vox
              </option>
              <option value="downunder">
                Downunder
              </option>
              <option value="zebu">
                Zebu
              </option>
            </select>
          </div>
        </form>
      </header>

      <section
        class="forestillinger border-slate-500 grid grid-cols-2 gap-3 border-b py-8"
      >
        <article
          class="forestilling bg-slate-100 p-3"
          :class="{'hidden': !(['alledage', 'tirsdag', 'onsdag'].includes(spilledag) && ['allevenues', 'vox'].includes(spillested)) }"
          x-transition:enter.duration.800ms
          x-on:change="testfunction();"
        >
          <!-- x-show alternativ syntaks -->
          <h3>Forestilling 1</h3>
          <p>
            Beskrivelse af forestilling
            1
          </p>
          <p>Spillested: Vox</p>
          <p>
            Spilledage: Tirsdag og
            onsdag
          </p>
        </article>

        <article
          class="forestilling bg-slate-100 p-3"
          :class="{'hidden': !(['alledage', 'torsdag'].includes(spilledag) && ['allevenues', 'zebu'].includes(spillested)) }"
          x-transition:enter.duration.800ms
        >
          <h3>Forestilling 2</h3>
          <p>
            Beskrivelse af forestilling
            2
          </p>
          <p>Spillested: ZeBu</p>
          <p>Spilledage: Torsdag</p>
        </article>

        <article
          class="forestilling bg-slate-100 p-3"
          :class="{'hidden': !(['alledage', 'onsdag', 'torsdag', 'fredag'].includes(spilledag) && ['allevenues', 'downunder'].includes(spillested)) }"
          x-transition:enter.duration.800ms
        >
          <h3>Forestilling 3</h3>
          <p>
            Beskrivelse af forestilling
            3
          </p>
          <p>Spillested: Donwunder</p>
          <p>
            Spilledage: Onsdag, torsdag
            og fredag
          </p>
        </article>

        <article
          class="forestilling bg-slate-100 p-3"
          :class="{'hidden': !(['alledage', 'fredag', 'lordag'].includes(spilledag) && ['allevenues', 'vox'].includes(spillested)) }"
          x-transition:enter.duration.800ms
        >
          <h3>Forestilling 4</h3>
          <p>
            Beskrivelse af forestilling
            4
          </p>
          <p>Spillested: Vox</p>
          <p>
            Spilledage: Fredag og lørdag
          </p>
        </article>

        <article
          class="forestilling bg-slate-100 p-3"
          :class="{'hidden': !(['alledage', 'lordag'].includes(spilledag) && ['allevenues', 'vox'].includes(spillested)) }"
          x-transition:enter.duration.800ms
        >
          <h3>Forestilling 5</h3>
          <p>
            Beskrivelse af forestilling
            5
          </p>
          <p>Spillested: Vox</p>
          <p>Spilledage: Lørdag</p>
        </article>

        <article
          class="forestilling bg-slate-100 p-3"
          :class="{'hidden': !(['alledage', 'torsdag', 'lordag'].includes(spilledag) && ['allevenues', 'zebu'].includes(spillested)) }"
          x-transition:enter.duration.800ms
        >
          <h3>Forestilling 6</h3>
          <p>
            Beskrivelse af forestilling
            6
          </p>
          <p>Spillested: ZeBu</p>
          <p>
            Spilledage: Torsdag og
            lørdag
          </p>
        </article>

        <article
          class="forestilling bg-slate-100 p-3"
          :class="{'hidden': !(['alledage', 'fredag'].includes(spilledag) && ['allevenues', 'downunder'].includes(spillested)) }"
          x-transition:enter.duration.800ms
        >
          <h3>Forestilling 7</h3>
          <p>
            Beskrivelse af forestilling
            7
          </p>
          <p>Spillested: Downunder</p>
          <p>Spilledage: Fredag</p>
        </article>

        <p
          id="ingenforestillinger"
          class="hidden"
        >
          Ingen forestillinger - prøv et
          nyt tid og sted:-)
        </p>
      </section>

      <footer>&copy; 2022</footer>

      <script>
        function ingenforestillinger() {
          const skjulteforestillinger =
            document.querySelectorAll(
              ".forestilling.hidden"
            ).length;
          if (
            skjulteforestillinger === 7
          ) {
            document
              .querySelector(
                "#ingenforestillinger"
              )
              .classList.remove(
                "hidden"
              );
          } else {
            document
              .querySelector(
                "#ingenforestillinger"
              )
              .classList.add("hidden");
          }
        }
      </script>
    </main>
  </body>
</html>
